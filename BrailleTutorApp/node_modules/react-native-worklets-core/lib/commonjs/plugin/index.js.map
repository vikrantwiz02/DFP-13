{"version":3,"names":["generate","require","default","hash","traverse","transformSync","fs","convertSourceMap","functionArgsToWorkletize","Map","objectHooks","Set","globals","blacklistedFunctions","ClosureGenerator","constructor","trie","mergeAns","oldAns","newAns","purePath","node","purePathUp","nodeUp","length","concat","findPrefixRec","path","notFound","type","memberExpressionNode","property","computed","name","has","parent","left","upAns","parentPath","findPrefix","base","babelPath","addPath","index","current","generateNodeForBase","t","currentNode","objectExpression","Object","keys","map","propertyName","objectProperty","identifier","variables","names","arrayOfKeys","variable","isRelease","includes","process","env","BABEL_ENV","shouldGenerateSourceMap","REANIMATED_PLUGIN_TESTS","buildWorkletString","fun","closureVariables","inputMap","prependClosureVariablesIfNecessary","closureDeclaration","variableDeclaration","variableDeclarator","objectPattern","memberExpression","thisExpression","prependClosure","body","unshift","prepandRecursiveDeclaration","id","scope","hasRecursiveCalls","bindings","references","visitor","expression","program","find","workletFunction","functionExpression","params","code","sourcesContent","sourceFile","sources","push","readFileSync","toString","includeSourceMap","transformed","plugins","compact","sourceMaps","inputSourceMap","ast","babelrc","configFile","comments","sourceMap","fromObject","toObject","JSON","stringify","makeWorkletName","isObjectMethod","key","isFunctionDeclaration","isFunctionExpression","isIdentifier","makeWorklet","state","functionName","closure","closureGenerator","DirectiveLiteral","value","getFunctionParent","remove","codeObject","sourceFileName","file","opts","filename","presets","loose","ReferencedIdentifier","parentNode","currentScope","set","Array","from","values","privateFunctionId","clone","cloneNode","funExpression","funString","sourceMapString","workletHash","location","relativeSourceLocation","relative","cwd","lineOffset","size","pathForStringDefinitions","isProgram","findParent","initDataId","generateUidIdentifier","initDataObjectExpression","stringLiteral","properties","insertBefore","statements","expressionStatement","assignmentExpression","numericLiteral","arrayExpression","newExpression","returnStatement","newFun","blockStatement","processWorkletFunction","isFunctionParent","replacement","callExpression","needDeclaration","isScopable","isExportNamedDeclaration","replaceWith","processWorkletObjectMethod","processIfWorkletNode","directives","some","directive","isDirectiveLiteral","processIfGestureHandlerEventCallbackFunctionNode","isCallExpression","isGestureObjectEventCallbackMethod","callee","isMemberExpression","containsGestureObject","object","isGestureObject","processWorklets","expressions","get","indexes","isArray","forEach","module","exports","types","pre","add","functionsToWorkletize","args","exit"],"sourceRoot":"../../src","sources":["index.js"],"mappings":"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"}